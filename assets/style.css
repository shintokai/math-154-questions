/* =========================================================
   MATH 154 — Site Styles (clean full file)
   ========================================================= */

/* ---------- Theme variables ---------- */
:root{
  --bg:#ffffff;
  --fg:#1a1a1a;
  --muted:#5f6b7a;
  --accent:#0b6cff;

  --surface:#fafbff;       /* subtle page/side panel tint */
  --border:#e6e8ec;
  --code:#0e1116;
}

/* ---------- Base ---------- */
*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
  background:var(--bg);
  color:var(--fg);
}
a{ color:var(--accent); text-decoration:none; }
a:hover{ text-decoration:underline; }
.muted{ color:var(--muted); }
hr{ border:none; border-top:1px solid var(--border); margin:24px 0; }

/* ---------- Header (with smooth hide-on-scroll) ---------- */
.header{
  position: sticky;
  top: 0;
  z-index: 10000;
  background: var(--bg);
  border-bottom: 1px solid var(--border);
  padding: 18px 24px;
  padding-top: calc(18px + env(safe-area-inset-top, 0px));
  transition: transform .24s ease, box-shadow .24s ease, border-color .24s ease;
  will-change: transform;
}
.header.hide{ transform: translateY(-100%); }
.header.scrolled{
  box-shadow: 0 6px 18px rgba(0,0,0,.06);
  border-bottom-color: transparent;
}
.title{ margin:0; font-weight:700; }
.subtitle{ margin:.25rem 0 0; color:var(--muted); }
@media (prefers-reduced-motion: reduce){
  .header{ transition: none; }
}

/* ---------- Layout ---------- */
.wrap{ display:flex; min-height:100vh; }

/* Sidebar */
.sidebar{
  width:300px; max-width:85vw;
  border-right:1px solid var(--border);
  background:var(--surface);
  padding:20px 16px;
  position:sticky; top:0; height:100vh; overflow:auto;
}

/* Main column */
.main{ flex:1; min-width:0; }
.content{ max-width:900px; padding:28px 24px 80px; margin:0 auto; }

/* Keep main content left/top aligned (prevents center drift) */
main.content{
  display:flex; flex-direction:column;
  justify-content:flex-start; align-items:flex-start;
}

/* ---------- TOC ---------- */
.toc h3{ margin:.25rem 0 .5rem; }
.toc ul{ list-style:none; padding-left:0; margin:.25rem 0; }
.toc li{ margin:.35rem 0; }
.toc a{ text-decoration:none; color:var(--fg); }
.toc a:hover{ color:var(--accent); }
.toc a[aria-current="page"]{ color:var(--accent); font-weight:700; }

/* Collapsible sections */
.toc-sec{ margin:.25rem 0 .5rem; }
.toc-sec > summary{ cursor:pointer; list-style:none; }
.toc-sec > summary::-webkit-details-marker{ display:none; }

/* ---------- Top nav pills ---------- */
.topnav{ display:flex; gap:8px; flex-wrap:wrap; margin-bottom:16px; }
.pill{
  display:inline-flex; padding:6px 10px;
  border:1px solid var(--border); border-radius:999px;
  text-decoration:none; color:var(--fg); background:#fff;
}
.pill:hover{ border-color:var(--accent); }

/* ---------- Headings / code ---------- */
h1,h2,h3{ scroll-margin-top:90px; }
pre,code{ font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono",monospace; }
pre{
  background:var(--code); color:#e6edf3;
  padding:12px 14px; border-radius:10px; overflow:auto;
}

/* ---------- Footer ---------- */
.footer{ border-top:1px solid var(--border); padding:18px 24px; color:var(--muted); }

/* ---------- Mobile sidebar/menu ---------- */
.menu-btn{ display:none; }
@media (max-width: 900px){
  .sidebar{
    position:fixed; left:-100%; top:0; height:100vh;
    transition:left .3s ease; z-index:9999;
  }
  .sidebar.open{ left:0; }
  .menu-btn{
    display:inline-flex; gap:8px; padding:6px 10px;
    border:1px solid var(--border); border-radius:10px; background:var(--surface);
  }
}

/* =========================================================
   Callout Boxes (textbook style)
   ========================================================= */
.definition{ --accent:#0ea5e9; --bgsoft:#eaf7fe; }
.theorem   { --accent:#7c3aed; --bgsoft:#f3e8ff; }
.example   { --accent:#16a34a; --bgsoft:#ecfdf5; }
.proof     { --accent:#d97706; --bgsoft:#fff7ed; }
.exercise  { --accent:#e11d48; --bgsoft:#fef2f2; }

.callout{
  position:relative;
  border:1px solid var(--border);
  border-radius:14px;
  background:var(--bgsoft, var(--surface));
  box-shadow:0 1px 0 rgba(0,0,0,.04);
  margin:20px 0;
  padding:14px 16px 16px;
}
.callout .block-title{
  margin:-14px -16px 12px;
  padding:10px 14px;
  background:var(--accent, var(--accent));
  color:#fff;
  border-top-left-radius:14px;
  border-top-right-radius:14px;
  font-weight:700;
  letter-spacing:.04em;
  text-transform:uppercase;
  font-size:.85rem;
}
.callout p{ margin:8px 0; }
.callout ol, .callout ul{ margin:8px 0 0 1.25rem; }

/* =========================================================
   Question Lists, Badges, and Boxed Details
   ========================================================= */
.q-list li{ margin:14px 0; }
.q-label{ font-weight:600; display:inline-block; margin-bottom:4px; }

.badge{
  display:inline-block; padding:2px 10px; border-radius:999px;
  font-size:.82rem; font-weight:600; border:1px solid var(--border);
  color:var(--muted); background:#fff;
}
.badge.easy   { color:#166534; background:#ecfdf5; border-color:#bbf7d0; }
.badge.medium { color:#92400e; background:#fff7ed; border-color:#fed7aa; }
.badge.hard   { color:#9f1239; background:#fef2f2; border-color:#fecdd3; }

.q-list details{
  border:1px solid var(--border);
  border-radius:10px;
  padding:.6rem .9rem;
  background:#fff;
  margin-top:8px;
  transition:background .2s ease,border-color .2s ease;
}
.q-list details[open]{ border-color:var(--accent); }
.q-list summary{
  cursor:pointer; font-weight:600; list-style:none;
  margin:-.3rem 0 .3rem 0;
}
.q-list summary::-webkit-details-marker{ display:none; }
.q-list summary::before{
  content:"▶"; display:inline-block; margin-right:6px;
  transition:transform .2s ease; font-size:.85em;
}
.q-list details[open] summary::before{ transform:rotate(90deg); }
.q-list details.answer   { background:#fffbe8; }  /* light yellow */
.q-list details.solution { background:#eef6ff; }  /* light blue  */
.q-list details.video    { background:#e8fff1; border-color:#52d39a; }
.q-list details.video[open]{ border-color:#16a34a; }

/* Images centered with nice scaling */
.img-center{ text-align:center; margin:1rem 0; }
.img-center img{ max-width:100%; height:auto; border-radius:8px; }

/* Sidebar Show/Hide control */
.sidebar-ctrl{
  display:block;
  width:100%;
  margin:0 0 10px 0;
  padding:8px 10px;
  text-align:left;
  border:1px solid var(--border);
  border-radius:10px;
  background:#fff;
  color:var(--fg);
  cursor:pointer;
}
.sidebar-ctrl:hover{ border-color:var(--accent); }

.toc-sec {
  margin: .4rem 0;
}

.toc-sec > summary {
  cursor: pointer;
  font-weight: 600;
  list-style: none;
  margin: .1rem 0 .25rem;
}

.toc-sec > summary::-webkit-details-marker {
  display: none;
}

.toc-sec > summary::before {
  content: "▸";
  display: inline-block;
  margin-right: 6px;
  color: var(--muted);
}

.toc-sec[open] > summary::before {
  content: "▾";
}




